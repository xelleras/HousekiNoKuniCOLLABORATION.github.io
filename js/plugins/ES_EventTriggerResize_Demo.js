//=============================================================================
// ES_EventTriggerResize_Demo.js
//=============================================================================
/*:
 * @plugindesc v1.0 Demo Allows enlarging event hitboxes while maintaining original event behavior.
 * @author EroiK StyLeR
 *
 * @param Show Hitbox
 * @type boolean
 * @desc Displays the detection area (visual debug).
 * @default false
 *
 * @help
 *
 * Usable tags (in event notes or comments):
 *
 * <Click Trigger>         → Allows the event to be triggered by mouse click.
 * <Hitbox Up: x>          → Extends the hitbox upward.
 * <Hitbox Down: x>        → Extends the hitbox downward.
 * <Hitbox Left: x>        → Extends the hitbox to the left.
 * <Hitbox Right: x>       → Extends the hitbox to the right.
 *
 * Compatible MV
 * @target MV
 */
 
const _0x36c56e=_0x3cb8;(function(_0x4d0207,_0x1a4cfd){const _0x3ab2f5=_0x3cb8,_0x597203=_0x4d0207();while(!![]){try{const _0x4fc537=-parseInt(_0x3ab2f5(0x143))/0x1*(parseInt(_0x3ab2f5(0x11a))/0x2)+parseInt(_0x3ab2f5(0x107))/0x3*(-parseInt(_0x3ab2f5(0x133))/0x4)+-parseInt(_0x3ab2f5(0x110))/0x5+-parseInt(_0x3ab2f5(0x108))/0x6*(-parseInt(_0x3ab2f5(0x131))/0x7)+parseInt(_0x3ab2f5(0x103))/0x8+parseInt(_0x3ab2f5(0x10a))/0x9+parseInt(_0x3ab2f5(0x12c))/0xa;if(_0x4fc537===_0x1a4cfd)break;else _0x597203['push'](_0x597203['shift']());}catch(_0x460b41){_0x597203['push'](_0x597203['shift']());}}}(_0xc820,0x8d2bd));var Imported=Imported||{};Imported[_0x36c56e(0x152)]=!![];var ES=ES||{};ES[_0x36c56e(0xf5)]=ES[_0x36c56e(0xf5)]||{},ES[_0x36c56e(0x13c)]=PluginManager['parameters'](_0x36c56e(0x14f)),ES[_0x36c56e(0x136)]=ES[_0x36c56e(0x13c)][_0x36c56e(0x151)]===_0x36c56e(0x121),Game_Event[_0x36c56e(0x124)][_0x36c56e(0x102)]=function(){const _0x442c4c=_0x36c56e;try{return this&&this[_0x442c4c(0x13e)]&&this['event']()&&this[_0x442c4c(0x12e)]();}catch(_0x2838e4){return![];}};if(ES[_0x36c56e(0x136)]){const alias_Spriteset_Map_createLowerLayer=Spriteset_Map[_0x36c56e(0x124)]['createLowerLayer'];Spriteset_Map[_0x36c56e(0x124)][_0x36c56e(0x112)]=function(){const _0x1e041b=_0x36c56e;alias_Spriteset_Map_createLowerLayer[_0x1e041b(0x114)](this),this[_0x1e041b(0x13d)]=new Sprite_HitboxOverlay(),this[_0x1e041b(0x113)](this[_0x1e041b(0x13d)]);};function Sprite_HitboxOverlay(){const _0x3567c6=_0x36c56e;this[_0x3567c6(0xfb)](...arguments);}Sprite_HitboxOverlay[_0x36c56e(0x124)]=Object[_0x36c56e(0x137)](PIXI[_0x36c56e(0xfe)][_0x36c56e(0x124)]),Sprite_HitboxOverlay['prototype'][_0x36c56e(0x105)]=Sprite_HitboxOverlay,Sprite_HitboxOverlay[_0x36c56e(0x124)][_0x36c56e(0xfb)]=function(){const _0xe90c81=_0x36c56e;PIXI['Container']['call'](this),this[_0xe90c81(0xff)]=new Bitmap(Graphics['width'],Graphics[_0xe90c81(0xf9)]),this['_sprite']=new Sprite(this[_0xe90c81(0xff)]),this[_0xe90c81(0x113)](this[_0xe90c81(0x129)]),this['z']=0x8;},Sprite_HitboxOverlay[_0x36c56e(0x124)][_0x36c56e(0x111)]=function(){const _0x27ed33=_0x36c56e;this[_0x27ed33(0xff)]['clear'](),$gameMap[_0x27ed33(0x132)]()[_0x27ed33(0x154)](_0x5defa9=>{const _0x1a2ffa=_0x27ed33;if(!_0x5defa9[_0x1a2ffa(0x102)]())return;if(!_0x5defa9[_0x1a2ffa(0x101)]&&!_0x5defa9['_addedHitboxUp']&&!_0x5defa9[_0x1a2ffa(0x123)]&&!_0x5defa9[_0x1a2ffa(0x145)]&&!_0x5defa9[_0x1a2ffa(0x11d)]&&!_0x5defa9['_isClickTriggerable'])return;const _0x6607e=$gameMap[_0x1a2ffa(0x13f)](),_0x466324=(_0x5defa9['x']-(_0x5defa9[_0x1a2ffa(0x145)]||0x0))*_0x6607e,_0x47434c=(_0x5defa9['y']-(_0x5defa9[_0x1a2ffa(0xfc)]||0x0))*_0x6607e,_0xbbcc7=(_0x5defa9['x']+(_0x5defa9[_0x1a2ffa(0x11d)]||0x0)+0x1)*_0x6607e,_0xb83752=(_0x5defa9['y']+(_0x5defa9['_addedHitboxDown']||0x0)+0x1)*_0x6607e,_0x3cb16b=_0xbbcc7-_0x466324,_0x2322ad=_0xb83752-_0x47434c;this[_0x1a2ffa(0xff)][_0x1a2ffa(0x100)]=0x64,this[_0x1a2ffa(0xff)][_0x1a2ffa(0x104)](_0x466324,_0x47434c,_0x3cb16b,_0x2322ad,_0x1a2ffa(0xfa));});};}Game_CharacterBase[_0x36c56e(0x124)][_0x36c56e(0x14b)]=function(_0x36b1dd,_0x2c10d9){const _0x2487d9=_0x36c56e;var _0x41e786=this['x']-(this[_0x2487d9(0x145)]||0x0),_0x163677=this['x']+(this['_addedHitboxRight']||0x0),_0xc7b0e1=this['y']-(this[_0x2487d9(0xfc)]||0x0),_0x2b1c0b=this['y']+(this[_0x2487d9(0x123)]||0x0);return _0x41e786<=_0x36b1dd&&_0x36b1dd<=_0x163677&&_0xc7b0e1<=_0x2c10d9&&_0x2c10d9<=_0x2b1c0b;},Game_CharacterBase['prototype'][_0x36c56e(0x14a)]=function(_0x46d8fa,_0x657a37){const _0x5a8946=_0x36c56e;if(this[_0x5a8946(0x14d)]&&this['isWithinHitboxes'](_0x46d8fa,_0x657a37))return!![];return![];},ES[_0x36c56e(0xf5)][_0x36c56e(0x146)]=Game_Event[_0x36c56e(0x124)][_0x36c56e(0x115)],Game_Event['prototype'][_0x36c56e(0x115)]=function(){const _0x481b8a=_0x36c56e;ES[_0x481b8a(0xf5)][_0x481b8a(0x146)][_0x481b8a(0x114)](this),this[_0x481b8a(0x101)]=this[_0x481b8a(0x13e)]()[_0x481b8a(0x11f)][_0x481b8a(0x106)](_0x481b8a(0x127)),this[_0x481b8a(0xfc)]=0x0,this['_addedHitboxLeft']=0x0,this[_0x481b8a(0x11d)]=0x0,this[_0x481b8a(0x123)]=0x0,this[_0x481b8a(0x10d)](),this[_0x481b8a(0xf6)](),this[_0x481b8a(0x138)]();},Game_Event[_0x36c56e(0x124)][_0x36c56e(0x10d)]=function(){const _0x3ac96e=_0x36c56e;if(!this['isValidEvent']()||!this[_0x3ac96e(0x13e)]()[_0x3ac96e(0x11f)])return;this['event']()['note'][_0x3ac96e(0x125)](/<Hitbox (?:HEIGHT|UP):[ ](\d+)>/i)&&(this['_addedHitboxUp']=parseInt(RegExp['$1'])),this[_0x3ac96e(0x13e)]()[_0x3ac96e(0x11f)][_0x3ac96e(0x125)](/<Hitbox Left:[ ](\d+)>/i)&&(this[_0x3ac96e(0x145)]=parseInt(RegExp['$1'])),this[_0x3ac96e(0x13e)]()[_0x3ac96e(0x11f)]['match'](/<Hitbox Right:[ ](\d+)>/i)&&(this[_0x3ac96e(0x11d)]=parseInt(RegExp['$1'])),this[_0x3ac96e(0x13e)]()['note'][_0x3ac96e(0x125)](/<Hitbox Down:[ ](\d+)>/i)&&(this['_addedHitboxDown']=parseInt(RegExp['$1']));},Game_Event['prototype'][_0x36c56e(0xf6)]=function(){const _0x46ad67=_0x36c56e;if(!this[_0x46ad67(0x102)]()||!this[_0x46ad67(0x12e)]())return;var _0x9d1cb4=this[_0x46ad67(0x117)]();if(!_0x9d1cb4)return;for(var _0x39279c=0x0;_0x39279c<_0x9d1cb4['length'];++_0x39279c){var _0x368d34=_0x9d1cb4[_0x39279c];if([0x6c,0x198][_0x46ad67(0x14e)](_0x368d34[_0x46ad67(0x153)])){if(_0x368d34[_0x46ad67(0x130)][0x0]['match'](/<Hitbox (?:HEIGHT|UP):[ ](\d+)>/i))this[_0x46ad67(0xfc)]=parseInt(RegExp['$1']);else{if(_0x368d34[_0x46ad67(0x130)][0x0][_0x46ad67(0x125)](/<Hitbox Left:[ ](\d+)>/i))this[_0x46ad67(0x145)]=parseInt(RegExp['$1']);else{if(_0x368d34[_0x46ad67(0x130)][0x0][_0x46ad67(0x125)](/<Hitbox Right:[ ](\d+)>/i))this[_0x46ad67(0x11d)]=parseInt(RegExp['$1']);else _0x368d34[_0x46ad67(0x130)][0x0][_0x46ad67(0x125)](/<Hitbox Down:[ ](\d+)>/i)&&(this[_0x46ad67(0x123)]=parseInt(RegExp['$1']));}}}}},Game_Event[_0x36c56e(0x124)]['setupEventClickTrigger']=function(){const _0x5054ac=_0x36c56e;this[_0x5054ac(0x14d)]=![];if(!this['isValidEvent']())return;if(this[_0x5054ac(0x13e)]()['note']&&this[_0x5054ac(0x13e)]()[_0x5054ac(0x11f)]['match'](/<Click Trigger>/i))this[_0x5054ac(0x14d)]=!![];else{var _0x3a3137=this['list']();if(!_0x3a3137)return;for(var _0x41bdb6=0x0;_0x41bdb6<_0x3a3137['length'];++_0x41bdb6){var _0xa4c0d1=_0x3a3137[_0x41bdb6];if([0x6c,0x198][_0x5054ac(0x14e)](_0xa4c0d1[_0x5054ac(0x153)])&&_0xa4c0d1[_0x5054ac(0x130)][0x0][_0x5054ac(0x125)](/<Click Trigger>/i)){this[_0x5054ac(0x14d)]=!![];break;}}}};var ES=ES||{};function _0x3cb8(_0x3904ce,_0x306af2){const _0xc820c3=_0xc820();return _0x3cb8=function(_0x3cb8e3,_0x36c739){_0x3cb8e3=_0x3cb8e3-0xf4;let _0x26ce7b=_0xc820c3[_0x3cb8e3];return _0x26ce7b;},_0x3cb8(_0x3904ce,_0x306af2);}ES[_0x36c56e(0x11b)]=ES['EvClTr']||{},ES['EvClTr'][_0x36c56e(0x11e)]=0x1,ES[_0x36c56e(0x11b)][_0x36c56e(0x12d)]=Game_Temp['prototype'][_0x36c56e(0x10c)],Game_Temp[_0x36c56e(0x124)][_0x36c56e(0x10c)]=function(_0x25a410,_0x27e6f3){const _0xe86323=_0x36c56e;!this['isClickableEventAtXy'](_0x25a410,_0x27e6f3)&&ES[_0xe86323(0x11b)][_0xe86323(0x12d)][_0xe86323(0x114)](this,_0x25a410,_0x27e6f3);},Game_Temp[_0x36c56e(0x124)]['isClickableEventAtXy']=function(_0x4039ec,_0x41b6eb){const _0x544bf2=_0x36c56e;var _0x2eabe8=$gameMap[_0x544bf2(0x132)]();for(var _0x539d42=0x0;_0x539d42<_0x2eabe8[_0x544bf2(0x12f)];++_0x539d42){var _0x1aaf96=_0x2eabe8[_0x539d42];if(_0x1aaf96&&_0x1aaf96['isValidEvent']()&&_0x1aaf96[_0x544bf2(0x12b)]()&&_0x1aaf96[_0x544bf2(0x14a)](_0x4039ec,_0x41b6eb))return _0x1aaf96[_0x544bf2(0xf7)](),!![];}return![];},ES['EvClTr']['TouchInput_onMouseMove']=TouchInput['_onMouseMove'],TouchInput[_0x36c56e(0x10b)]=function(_0x2ddbc9){const _0xdbb5e9=_0x36c56e;ES['EvClTr'][_0xdbb5e9(0x120)]['call'](this,_0x2ddbc9),this[_0xdbb5e9(0x109)]=Graphics[_0xdbb5e9(0x126)](_0x2ddbc9[_0xdbb5e9(0x150)]),this['_mouseOverY']=Graphics[_0xdbb5e9(0x134)](_0x2ddbc9[_0xdbb5e9(0xf8)]);},Game_Event['prototype'][_0x36c56e(0x12b)]=function(){const _0x1a8f31=_0x36c56e;if(!this['isValidEvent']())return![];if(this[_0x1a8f31(0x13e)]()[_0x1a8f31(0x11f)]&&this[_0x1a8f31(0x13e)]()['note']['match'](/<Click Trigger>/i))return!![];return this[_0x1a8f31(0x14d)]===undefined&&this[_0x1a8f31(0x138)](),this[_0x1a8f31(0x14d)];},Game_Event[_0x36c56e(0x124)]['onMouseClickTrigger']=function(){const _0x59b6ec=_0x36c56e;if(!this[_0x59b6ec(0x102)]()||!this['isClickTriggered']())return;$gameTemp[_0x59b6ec(0x149)](),this['start']();};function _0xc820(){const _0x14b4d5=['5899568PBTHwU','fillRect','constructor','includes','235734kKRCEJ','105816edBSto','_mouseOverX','9275751cFrNmO','_onMouseMove','setDestination','setupEventHitboxResizeNotetags','createAllWindows','center','3181295bufQzX','update','createLowerLayer','addChild','call','setupPage','fillAll','list','fontSize','createForeground','2ypjoDr','EvClTr','This\x20plugin\x20is\x20in\x20demo\x20mode\x20-\x20Click\x20here\x20to\x20unlock\x20the\x20Premium\x20version\x20!','_addedHitboxRight','version','note','TouchInput_onMouseMove','true','openExternal','_addedHitboxDown','prototype','match','pageToCanvasX','<Show\x20Hitbox>','_blank','_sprite','isTouched','isClickTriggered','2941860WtyKbF','Game_Temp_setDestination','page','length','parameters','91izXgZP','events','40vnbWBI','pageToCanvasY','width','ShowHitbox','create','setupEventClickTrigger','opacity','textColor','open','Parameters','_hitboxOverlay','event','tileWidth','drawText','Shell','isTriggered','291263hHHpAP','nw.gui','_addedHitboxLeft','Game_Event_setupPage','bitmap','#FF0000','clearDestination','isClickPos','isWithinHitboxes','function','_isClickTriggerable','contains','ES_EventTriggerResize_Demo','pageX','Show\x20Hitbox','ES_EventTriggerResize','code','forEach','rgba(0,\x200,\x200,\x200)','StyLeR','setupEventHitboxResizeCommentTags','onMouseClickTrigger','pageY','height','rgba(255,0,0,0.5)','initialize','_addedHitboxUp','https://eroik-styler.itch.io/','Container','_bitmap','paintOpacity','_forceShowHitbox','isValidEvent'];_0xc820=function(){return _0x14b4d5;};return _0xc820();}const itchPageURL=_0x36c56e(0xfd),_Scene_Title_createForeground=Scene_Title[_0x36c56e(0x124)][_0x36c56e(0x119)];Scene_Title['prototype'][_0x36c56e(0x119)]=function(){const _0x5825f0=_0x36c56e;_Scene_Title_createForeground[_0x5825f0(0x114)](this);const _0x1e0c0c=new Sprite(new Bitmap(Graphics[_0x5825f0(0x135)],Graphics[_0x5825f0(0xf9)]));_0x1e0c0c[_0x5825f0(0x147)][_0x5825f0(0x118)]=0x14,_0x1e0c0c['bitmap']['textColor']='#FF0000',_0x1e0c0c[_0x5825f0(0x147)][_0x5825f0(0x140)](_0x5825f0(0x11c),0x0,0x0,Graphics['width'],0x32,_0x5825f0(0x10f)),this[_0x5825f0(0x113)](_0x1e0c0c);const _0x57fc4d=new Sprite();_0x57fc4d[_0x5825f0(0x147)]=new Bitmap(Graphics[_0x5825f0(0x135)],0x32),_0x57fc4d[_0x5825f0(0x139)]=0x64,_0x57fc4d['y']=0x0,_0x57fc4d[_0x5825f0(0x147)]['fillAll'](_0x5825f0(0xf4)),_0x57fc4d[_0x5825f0(0x147)]['fillRect'](0x0,0x0,_0x57fc4d[_0x5825f0(0x135)],0x2,_0x5825f0(0x148)),_0x57fc4d[_0x5825f0(0x147)]['fillRect'](0x0,_0x57fc4d['height']-0x2,_0x57fc4d[_0x5825f0(0x135)],0x2,_0x5825f0(0x148)),_0x57fc4d[_0x5825f0(0x147)][_0x5825f0(0x104)](0x0,0x0,0x2,_0x57fc4d['height'],_0x5825f0(0x148)),_0x57fc4d[_0x5825f0(0x147)]['fillRect'](_0x57fc4d[_0x5825f0(0x135)]-0x2,0x0,0x2,_0x57fc4d[_0x5825f0(0xf9)],'#FF0000'),_0x57fc4d[_0x5825f0(0x139)]=0xff,this['addChild'](_0x57fc4d),_0x57fc4d[_0x5825f0(0x111)]=function(){const _0x589249=_0x5825f0;if(TouchInput[_0x589249(0x142)]()&&this['isTouched']()){if(typeof require==='function'){const _0x375ab0=require(_0x589249(0x144));_0x375ab0[_0x589249(0x141)][_0x589249(0x122)](itchPageURL);}else window[_0x589249(0x13b)](itchPageURL,_0x589249(0x128));}},_0x57fc4d[_0x5825f0(0x12a)]=function(){const _0x1189a1=_0x5825f0,_0x36a271=TouchInput['x'],_0x540c5e=TouchInput['y'];return _0x36a271>=this['x']&&_0x36a271<this['x']+this[_0x1189a1(0x135)]&&_0x540c5e>=this['y']&&_0x540c5e<this['y']+this[_0x1189a1(0xf9)];};};const _Scene_Map_createAllWindows=Scene_Map[_0x36c56e(0x124)][_0x36c56e(0x10e)];Scene_Map[_0x36c56e(0x124)][_0x36c56e(0x10e)]=function(){const _0x10fab9=_0x36c56e;_Scene_Map_createAllWindows[_0x10fab9(0x114)](this);const _0x2c51e1=new Sprite(new Bitmap(Graphics[_0x10fab9(0x135)],Graphics['height']));_0x2c51e1[_0x10fab9(0x147)]['fontSize']=0x14,_0x2c51e1[_0x10fab9(0x147)][_0x10fab9(0x13a)]=_0x10fab9(0x148),_0x2c51e1[_0x10fab9(0x147)]['drawText'](_0x10fab9(0x11c),0x0,0x0,Graphics[_0x10fab9(0x135)],0x32,_0x10fab9(0x10f)),this[_0x10fab9(0x113)](_0x2c51e1);const _0x263c52=new Sprite();_0x263c52[_0x10fab9(0x147)]=new Bitmap(Graphics[_0x10fab9(0x135)],0x32),_0x263c52[_0x10fab9(0x139)]=0x32,_0x263c52['y']=0x0,_0x263c52[_0x10fab9(0x147)][_0x10fab9(0x116)]('rgba(0,\x200,\x200,\x200)'),_0x263c52['bitmap'][_0x10fab9(0x104)](0x0,0x0,_0x263c52[_0x10fab9(0x135)],0x2,_0x10fab9(0x148)),_0x263c52[_0x10fab9(0x147)][_0x10fab9(0x104)](0x0,_0x263c52['height']-0x2,_0x263c52['width'],0x2,'#FF0000'),_0x263c52[_0x10fab9(0x147)][_0x10fab9(0x104)](0x0,0x0,0x2,_0x263c52['height'],'#FF0000'),_0x263c52['bitmap'][_0x10fab9(0x104)](_0x263c52['width']-0x2,0x0,0x2,_0x263c52[_0x10fab9(0xf9)],_0x10fab9(0x148)),_0x263c52[_0x10fab9(0x139)]=0xff,this[_0x10fab9(0x113)](_0x263c52),_0x263c52['update']=function(){const _0x2dcdf1=_0x10fab9;if(TouchInput[_0x2dcdf1(0x142)]()&&this[_0x2dcdf1(0x12a)]()){if(typeof require===_0x2dcdf1(0x14c)){const _0xf19442=require(_0x2dcdf1(0x144));_0xf19442[_0x2dcdf1(0x141)]['openExternal'](itchPageURL);}else window[_0x2dcdf1(0x13b)](itchPageURL,_0x2dcdf1(0x128));}},_0x263c52['isTouched']=function(){const _0x5d45cd=_0x10fab9,_0x3e3c89=TouchInput['x'],_0x4252d8=TouchInput['y'];return _0x3e3c89>=this['x']&&_0x3e3c89<this['x']+this[_0x5d45cd(0x135)]&&_0x4252d8>=this['y']&&_0x4252d8<this['y']+this[_0x5d45cd(0xf9)];};};
